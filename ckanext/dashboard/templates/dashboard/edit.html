{% extends "admin/base.html" %}
{% block title %}{% if dashboard %}Edit{% else %}Add{% endif %} Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">
    {% if dashboard %}Edit{% else %}Add{% endif %} Dashboard for Dataset {{ package_id }}
  </h1>
  <form method="post">
    <!-- CSRF Token -->
    {{ h.csrf_input() }}

    <!-- If editing, include the dashboard_id -->
    {% if dashboard %}
      <input type="hidden" name="dashboard_id" value="{{ dashboard.id }}">
    {% endif %}

    <label>Title:</label>
    <input type="text" name="title" value="{{ dashboard.title if dashboard else '' }}" required>

    <label>Descripti√≥n:</label>
    <textarea name="description">{{ dashboard.description if dashboard else '' }}"></textarea>

    <label>Type de Dashboard:</label>
    <select name="dashboard_type" id="dashboard_type">
        <option value="tableau" {% if dashboard and dashboard.dashboard_type == "tableau" %}selected{% endif %}>Tableau</option>
        <option value="powerbi" {% if dashboard and dashboard.dashboard_type == "powerbi" %}selected{% endif %}>Power BI</option>
    </select>

    <label>Embeded URL:</label>
    <input type="url" name="embeded_url" value="{{ dashboard.embeded_url if dashboard else '' }}" required>

    <label>Report URL:</label>
    <input type="url" name="report_url" value="{{ dashboard.report_url if dashboard else '' }}">

    
    <button type="submit" class="btn btn-primary">Save</button>
  </form>
</div>
{% endblock %}
